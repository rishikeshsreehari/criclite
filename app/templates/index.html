{% extends "base.html" %}

{% block title %}CricLite - Plain Text Live Cricket Scores{% endblock %}

{% block content %}
<a href="/" style="text-decoration: none; color: inherit;">
    <pre class="site-title">CRICLITE</pre>
</a>
<pre class="site-subtitle">Plain text live cricket scores.</pre>

<div class="theme-toggle">
    <a href="/toggle-theme" style="text-decoration: none"> {{ "[Light] " if theme == "dark" else "[Dark]" }}</a>
</div>

<pre class="divider">=========================================</pre>

{% if live_matches %}
<div class="section">
    <pre class="section-title">[LIVE]
=============</pre>
    <div class="match-row">
        {% for match_id, match in live_matches %}
        <div class="match-col">
            <a href="/{{ match_id }}" class="match-link">{{ match | safe }}</a>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}

{% if upcoming_matches %}
<div class="section">
    <pre class="section-title">[UPCOMING]
=============</pre>
    <div class="match-row">
        {% for match_id, match in upcoming_matches %}
        <div class="match-col">
            <a href="/{{ match_id }}" class="match-link">{{ match | safe }}</a>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}

{% if completed_matches %}
<div class="section">
    <pre class="section-title">[COMPLETED]
=============</pre>
    <div class="match-row">
        {% for match_id, match in completed_matches %}
        <div class="match-col">
            <a href="/{{ match_id }}" class="match-link">{{ match | safe }}</a>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}

<pre class="divider">=========================================</pre>
<br>
<div class="terminal-section">
    <div class="terminal-header">Access via Terminal</div>
    <div class="terminal-cmd">Linux/Mac: <code>curl -s https://criclite.com/plain.txt</code></div>
    <div class="terminal-cmd">Windows: <code>curl.exe -s https://criclite.com/plain.txt</code></div>
</div>    

<div class="timestamp-info">
    <p>Last updated: {{ last_updated }} ({{ time_ago }})<br>
    {% if next_update_text %}Next update in approximately {{ next_update_text }}.<br>{% endif %}
    Page auto-refreshes every 30s.</p>
</div>

<style>
    .match-col {
        font-family: monospace;
        white-space: pre;
        line-height: 1.2;
        margin: 5px 0;
        overflow: hidden;
        font-size: 14px;
        width: 41ch;
        text-align: left;
    }
    
    .match-link {
        color: inherit;
        text-decoration: none;
        display: block;
    }
    
    .match-link:hover {
        color: var(--link-hover-color);
    }
</style>
{% endblock %}