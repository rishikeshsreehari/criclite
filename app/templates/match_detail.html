{% extends "base.html" %}

{% block title %}{{ match.team1 }} vs {{ match.team2 }} - Scorecard - CricLite{% endblock %}

{% block content %}
<a href="/" style="text-decoration: none; color: inherit;">
    <pre class="site-title">CRICLITE</pre>
</a>
<pre class="site-subtitle">Plain text live cricket scores.</pre>

<div class="theme-toggle">
    <a href="/toggle-theme" style="text-decoration: none"> {{ "[Light] " if theme == "dark" else "[Dark]" }}</a>
</div>

<pre class="divider">=========================================</pre>

<pre class="data-warning-banner">
    +-----------------------------------------------------------+
    |                 SCORECARD DATA ISSUE!                     |
    |                                                           |
    |  Since 27-03-2025, our data provider has been supplying   |
    |  inaccurate scorecard data. We are working on a fix.      |
    |              Sorry for the inconvenience.                 |
    |                                                           |
    +-----------------------------------------------------------+
</pre>

<div class="match-details">
    {% if has_scorecard %}
    <div class="scorecard-wrapper">
        {{ scorecard_html | safe }}
    </div>
    {% else %}
    <div class="match-summary-container">
        {{ formatted_match | safe }}
    </div>
    <div class="no-scorecard">
        <p>Detailed scorecard not available at this time.</p>
    </div>
    {% endif %}
    
    <p class="back-link"><a href="/">‚Üê Back to all matches</a></p>
</div>

<style>
    .match-details {
        max-width: 100%;
        margin: 0 auto;
        font-family: monospace;
    }
    
    .scorecard-wrapper {
        margin: 0 auto;
        max-width: 100%;
        overflow-x: auto;
    }
    
    /* ASCII style elements */
    pre.ascii-box,
    pre.ascii-innings-header,
    pre.ascii-section-header,
    pre.ascii-drs-info,
    pre.ascii-match-summary {
        font-family: monospace;
        margin: 0;
        padding: 0;
        white-space: pre;
        overflow-x: auto;
        line-height: 1.2;
        font-size: 14px;
        width: 100%;
    }
    
    /* Style for bold text in pre elements */
    pre strong {
        font-weight: bold;
    }
    
    .innings-section {
        margin-bottom: 20px;
        width: 100%;
    }
    
    .back-link {
        text-align: center;
        margin: 1.5em 0;
        color: inherit;
        text-decoration: underline;
    }
    
    .back-link a {
        color: inherit;
        text-decoration: underline;
    }
    
    .back-link a:hover {
        text-decoration: none;
    }
    
    .no-scorecard {
        text-align: center;
        padding: 2em;
        border: 1px dashed var(--border-color);
        margin: 2em 0;
    }
    
    .summary-separator {
        height: 10px;
    }
    
    /* Data Accuracy Warning Banner */
    .data-warning-banner {
        text-align: center;
        margin: 1em 0;
        white-space: pre-wrap;
    }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
        pre.ascii-box,
        pre.ascii-innings-header,
        pre.ascii-section-header,
        pre.ascii-drs-info,
        pre.ascii-match-summary {
            font-size: 13px;
        }
    }
    
    @media (max-width: 480px) {
        pre.ascii-box,
        pre.ascii-innings-header,
        pre.ascii-section-header,
        pre.ascii-drs-info,
        pre.ascii-match-summary {
            font-size: 12px;
        }
    }
</style>

{% endblock %}